(this["webpackJsonpbeat-the-nerd"]=this["webpackJsonpbeat-the-nerd"]||[]).push([[0],{20:function(e,t,n){e.exports=n(35)},25:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(8),i=n.n(s),c=(n(25),n(4)),o=n(7),u=n(17),l=n(14),m=[],f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":return[].concat(Object(l.a)(e),[{text:t.text,id:t.id,uid:t.uid}]);case"GET_MESSAGES":return Object(l.a)(e);default:return e}},p=n(19),d={appState:"greeting"},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP_STATE_CHANGE":return Object(p.a)({},e,{appState:t.payload});case"APPLICATION_START":return d;default:return e}},v=Object(o.c)({messages:f,application:h}),b=n(1),g=n(2),E=n(5),y=n(3),O=n(6),j=n(12),k=n.n(j),w=n(18),A={user:1,cpu:2},I={server:"https://newton.now.sh",operation:"simplify"},S=new(function(){function e(){Object(b.a)(this,e),this.config=I}return Object(g.a)(e,[{key:"build",value:function(e){return"/api/".concat(this.config.operation,"/").concat(encodeURIComponent(e))}}]),e}()),x=function(e){return{type:"APP_STATE_CHANGE",payload:e}},N=0,T=function(e,t){return{type:"ADD_MESSAGE",text:e,id:N++,uid:t}},C=function(e){return function(t){t(T(e,A.cpu)),t(x("waiting for user question"))}},D={message:""},M=function(e){function t(e){var n;return Object(b.a)(this,t),(n=Object(E.a)(this,Object(y.a)(t).call(this,e))).focusedInput=void 0,n.focusInputBox=function(){n.focusedInput&&n.focusedInput.current&&n.focusedInput.current.focus()},n.state=D,n.focusedInput=r.a.createRef(),n}return Object(O.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.waitForUserQuestion()}},{key:"handleChange",value:function(e){this.setState({message:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.addMessage(this.state.message),this.setState(D),this.focusInputBox()}},{key:"render",value:function(){var e=this,t=this.state.message;return r.a.createElement("div",{style:{position:"fixed",bottom:0,width:"100%",backgroundColor:"white"}},r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)},style:{display:"flex"}},r.a.createElement("div",{className:"nes-field",style:{flex:1}},r.a.createElement("input",{type:"text",value:t,onChange:function(t){return e.handleChange(t)},name:"message",className:"nes-input",placeholder:"Type your question here",ref:this.focusedInput})),r.a.createElement("div",{className:"nes-field"},r.a.createElement("input",{type:"submit",value:"Send",className:"nes-btn is-primary"}))))}}]),t}(r.a.Component),R=Object(c.b)(null,(function(e){return{addMessage:function(t){return e(function(e){return function(){var t=Object(w.a)(k.a.mark((function t(n){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(T(e,A.user)),n(x("answering the user")),t.next=4,r=e,fetch(S.build(r)).then((function(e){return e.json()})).then((function(e){return e.result}));case 4:a=t.sent,n(C(a));case 6:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},waitForUserQuestion:function(){return e(x("waiting for user question"))}}}))(M),P={dots:""},U=function(e){function t(e){var n;return Object(b.a)(this,t),(n=Object(E.a)(this,Object(y.a)(t).call(this,e))).maxDots=3,n.state=P,n.maxDots=3,n}return Object(O.a)(t,e),Object(g.a)(t,[{key:"timer",value:function(){var e=this.state.dots.length===this.maxDots?"":this.state.dots+".";this.setState({dots:e})}},{key:"componentDidMount",value:function(){var e=setInterval(this.timer.bind(this),750);this.setState({intervalID:e})}},{key:"componentWillUnmount",value:function(){this.state.intervalID&&clearInterval(this.state.intervalID)}},{key:"render",value:function(){var e=this.state.dots;return r.a.createElement("div",null,e)}}]),t}(r.a.Component),_=n(13),B=n.n(_),G=function(e){var t=e.data,n=e.children,a=t&&t.uid===A.user,s=!a;return r.a.createElement("section",{className:B()("message",s?"-left":"-right")},s&&r.a.createElement("i",{className:"nes-mario"}),r.a.createElement("div",{className:B()("nes-balloon",{"from-left":s},{"from-right":a})},n,t&&r.a.createElement("p",null,t.text)),a&&r.a.createElement("i",{className:"nes-bcrikko"}))},q=function(e){function t(e){var n;return Object(b.a)(this,t),(n=Object(E.a)(this,Object(y.a)(t).call(this,e))).messagesEndlineRef=void 0,n.scrollToBottom=function(){n.messagesEndlineRef&&n.messagesEndlineRef.current&&n.messagesEndlineRef.current.scrollIntoView({behavior:"smooth"})},n.messagesEndlineRef=r.a.createRef(),n}return Object(O.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.greetTheUser()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){var e=this.props.messages;return r.a.createElement("section",{className:"nes-container with-title",style:this.props.style},r.a.createElement("p",{className:"title"},"Messages"),r.a.createElement("section",{className:"message-list"},e.map((function(e,t){return r.a.createElement(G,{data:e,key:e.id})})),this.props.isCPUAnswering&&r.a.createElement(G,null,r.a.createElement(U,null))),r.a.createElement("div",{ref:this.messagesEndlineRef}))}}]),t}(r.a.Component),H=Object(c.b)((function(e){return{messages:e.messages,isCPUAnswering:"answering the user"===e.application.appState}}),(function(e){return{greetTheUser:function(){return e(C("Hello! I'm the nerd. Challenge me asking to solve any mathematical operation you want! I'll surprise you..."))}}}))(q),F={yMargins:{marginTop:"2rem",marginBottom:"4rem"}};function J(){return r.a.createElement("div",null,r.a.createElement(H,{style:F.yMargins}),r.a.createElement(R,null))}function L(){return r.a.createElement("header",null,r.a.createElement("div",{style:{margin:"1rem 0",textAlign:"center",borderBottom:"2px solid black"}},r.a.createElement("h1",null,"Beat the Nerd")))}var Q=function(e){function t(){return Object(b.a)(this,t),Object(E.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(L,null),r.a.createElement(J,null))}}]),t}(r.a.Component),V=Object(c.b)((function(e){return{startApplication:function(){return e({type:"APPLICATION_START"})}}}))(Q);n(33),n(34);n.d(t,"store",(function(){return W}));var W=Object(o.d)(v,Object(o.a)(u.a));i.a.render(r.a.createElement(c.a,{store:W},r.a.createElement(V,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.7c9ed65d.chunk.js.map